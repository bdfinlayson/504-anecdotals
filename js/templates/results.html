<!-- <navbar></navbar>


<h2>Test: {{results.results.name}}</h2>
<h3>Standard Time Allotted: {{results.results.standardTime}}</h3>



<div ng-controller='StudentController as students'>
  <div ng-repeat="student in students.data">
    <form name="students.newStudentForm" role="form" novalidate>
      <h4>{{student.firstName}} {{student.lastName}}</h4>
      Time Taken: <input type='number' ng-model="student.timeTaken" placeholder="time taken" required>
      <input type="submit" ng-click="students.sendTestResults(student)">
    </form>
  </div>
</div> -->

<div ng-repeat="test in tests.newClass.testInfo" class="modal fade" id="{{test.testId}}" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title" id="myModalLabel">Report Times for {{test.name}}</h4>
        <p>Standard Time:
          <strong>{{test.standardTime}}</strong>
        </p>
      </div>
      <form name='test.resultsForm' role='form' class="modal-body" novalidate>
        <div ng-repeat="student in tests.newClass.studentInfo" class="form-group" name='resultsForm' id="{{student.studentId}}">
          <label for='student'>{{student.firstName}} {{student.lastName}}:</label>
          <div class="input-group">
            <input class="form-control" id="student" ng-init="student.timeTaken=true" ng-model='student.timeTaken' type='number' placeholder='Time taken (in minutes)' required>
            <span class="input-group-btn" ng-if="student.timeTaken" class='animate-if'>
              <button class="btn btn-success" type="button" ng-click="tests.sendTestResults(student, test.testId, test)">{{student.firstName}} took {{student.timeTaken}} minutes
                <div class="success glyphicon glyphicon-ok"></div>
              </button>
            </span>
          </div>
        </div>
        <div class='form-group'>
          <button type="button" class="btn btn-default form-control" data-dismiss="modal" ng-click="tests.clearValues()">Close</button>
        </div>
        <div class='form-group'>
          <input type="submit" class="btn btn-success form-control" value='Submit All' ng-click="tests.sendTestResults(student)">
          <!--TODO: make this submit all times -->
        </div>
      </form>
    </div>
  </div>
</div>

<!-- ng-submit='classes.sendTestResults(test.testId, student.timeTaken)' -->
